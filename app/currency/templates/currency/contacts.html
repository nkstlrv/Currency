{%extends 'currency/base.html'%}

{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'currency/css/contacts.css' %}">
{% endblock%}

{% block content %}

<div class="header">
    <h1>Contacts Table</h1>
</div>

{% if contacts|length > 0 %}

<div class="table-div">

    <table class="table table-striped">
        <thead>
            <tr>
                <th scope="col">ID</th>
                <th scope="col">Email</th>
                <th scope="col">Subject</th>
                <th scope="col">Message</th>
            </tr>
        </thead>
        <tbody>

            {% for contact in contacts %}

            <tr>
                <th scope="row">{{contact.id}}</th>
                <td>{{contact.email_from}}</td>
                <td>{{contact.subject}}</td>
                {% if contact.message|length > 20 %}
                    <td>{{contact.message|slice:":20"}}...</td>
                {% else %}
                    <td>{{contact.message}}</td>
                {% endif %}
            </tr>

            {% endfor %}
        </tbody>
    </table>

</div>

{% else %}

<div class="alert alert-info" role="alert">
    Table is empty
</div>

{% endif %}



{%endblock content%}